---
- name: Bootstrap k3s GitOps Platform
  hosts: raspberry_pi
  become: yes
  gather_facts: yes
  
  tasks:
    - name: Setup USB storage
      include_tasks: tasks/usb-storage.yml
      
    - name: Install k3s
      include_tasks: tasks/k3s-install.yml
      
    - name: Setup Kubernetes resources
      include_tasks: tasks/k8s-resources.yml
      
    - name: Install Argo CD
      include_tasks: tasks/argocd-install.yml